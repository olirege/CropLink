import{e as l,f as a,j as e,d as V,u as Q,J as X,A as F,t as w,w as h,i as S,D as O,r as g,o as G,K as ie,n as u,B as x,z as $,F as k,l as j,L as P,M as H,N as L,p as y,T as B,v as b,a as Y,O as Z,P as ee,Q as se,R as te,S as K,G as z,g as le,U as ae,H as E,h as W,V as oe,W as M,X as re,Y as de,_ as ce}from"./index-6a4b7e8c.js";import{I as ne}from"./ImageCarousel-481bf7b6.js";import{r as ue}from"./CheckCircleIcon-8459d036.js";import{_ as fe,a as pe,b as me}from"./GigStoreCard.vue_vue_type_script_setup_true_lang-a37835b2.js";import{R as N,h as I,y as J,M as D}from"./menu-300a0e20.js";import"./PencilIcon-6012585b.js";function R(o,r){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})])}function ve(o,r){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 15.75l-2.489-2.489m0 0a3.375 3.375 0 10-4.773-4.773 3.375 3.375 0 004.774 4.774zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function xe(o,r){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z"})])}const _e={class:"relative w-full min-h-32 max-h-32 rounded-xl overflow-hidden"},he={key:1,class:"flex items-center justify-center h-full"},ge=e("p",{class:"text-gray-500"},"No Image Available",-1),ye=[ge],be={class:"max-h-32"},we={class:"text-1xl font-bold"},$e={class:"flex flex-row gap-2 text-sm justify-between"},ke={class:"font-semibold"},Ce={class:"flex flex-row gap-2 text-sm"},Ve=V({__name:"SellerAdCarouselCard",props:{ad:{type:Object,required:!0}},emits:["edit"],setup(o,{emit:r}){const c=Q(),s=d=>{d&&c.push({name:"ad",params:{adId:d}})};return(d,f)=>{const n=X("currency");return l(),a("div",{class:"relative bg-white rounded-xl flex flex-col gap-2",onClick:f[0]||(f[0]=i=>s(o.ad.adId))},[e("div",_e,[o.ad.images&&o.ad.images.length>0?(l(),F(ne,{key:0,images:o.ad.resizedImages,classes:"min-h-32 max-h-32 max-w-32 min-w-32"},null,8,["images"])):(l(),a("div",he,ye))]),e("div",be,[e("h3",we,w(o.ad.variety),1),e("div",$e,[h((l(),a("p",ke,[S("/tons")])),[[n,o.ad.pricePerTon]])]),e("div",Ce,[e("p",null,w(o.ad.tons),1),S("tons ")])])])}}}),Te={key:0,class:"flex flex-col justify-start sm:block bg-white p-2 sm:p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 cursor-pointer"},je=["src"],Pe={class:"flex flex-col"},Se={class:"text-md font-bold capitalize"},Oe={key:0,class:"flex flex-row gap-1 divide-x"},Fe=e("p",{class:"text-xs italic pl-2"},"Verified",-1),Ge={class:"text-xs italic pl-2"},Ue={class:"text-xs italic pl-2"},Ae={class:"text-xs italic pl-2"},Le={class:"grid grid-row-3 sm:grid-col-2 md:grid-cols-3 gap-4"},Me={class:"flex flex-col gap-1 w-full"},ze={key:0},Be={class:"italic"},Ne={key:1},Ie=e("p",null,"Producer not yet rated.",-1),Je=[Ie],De={class:"flex-row justify-between w-full divide-x flex gap-2"},Re={class:"flex flex-col sm:p-2 w-full"},Ee=e("p",{class:"text-md mb-2 font-bold"},"Shipping",-1),We={class:"flex flex-col p-2"},qe={class:"text-xs"},He={class:"text-xs italic pl-1"},Ke={class:"text-xs italic pl-1"},Qe={class:"flex flex-col sm:p-2 space-y-2 pl-2 w-full"},Xe=e("p",{class:"text-md mb-2 font-bold"},"Plant Count",-1),Ye={class:"flex flex-row justify-between gap-2"},Ze={class:"text-xs italic"},es={class:"text-xs italic"},ss={key:0,class:"m-auto inline grid grid-cols-3 gap-2"},ts={key:1,class:"m-auto"},ls={class:"sm:w-56"},os=V({__name:"GroupedAdCard",props:{adGroup:{type:Object,required:!0}},setup(o){const r=o,c=O(()=>{const i=new Date,t=new Date(r.adGroup.createdAt.toDate().toString()),_=i.getTime()-t.getTime(),C=Math.floor(_/(1e3*60*60*24)),T=Math.floor(C/31),U=Math.floor(T/12);return U>0?`${U} yrs`:T>0?`${T} mths`:`${C} days`}),s=Q(),d=(i,t)=>{console.log("go to seller ads",i),s.push({name:"seller-ads",params:{id:i,sellerName:t}})},f=g([]),n=g(!0);return G(async()=>{n.value=!0;const i=[];i.push(ie("ads","live","==",!0,"uid","==",r.adGroup.id,["postedOn","desc"],3).then(t=>{f.value=t.docs,n.value=!1})),await Promise.all(i)}),(i,t)=>o.adGroup?(l(),a("span",Te,[e("span",{class:"flex flex-row gap-2 items-end mb-2",onClick:t[0]||(t[0]=_=>d(o.adGroup.id,o.adGroup.companyName))},[e("img",{src:o.adGroup.storeLogoResized,class:"w-10 h-10 rounded-md object-cover bg-slate-500"},null,8,je),e("span",Pe,[e("h1",Se,w(`${o.adGroup.companyName}'s ads`),1),o.adGroup.verifiedSeller?(l(),a("div",Oe,[u(x(ue),{class:"h-4 w-4 text-sky-500"}),Fe,e("p",Ge,w(c.value),1),e("p",Ue,w(o.adGroup.staffNumber)+"+ staff",1),e("p",Ae,w(o.adGroup.acreage)+"+ acres",1)])):$("",!0)])]),e("span",Le,[e("span",{class:"flex flex-row sm:p-2 sm:p-0",onClick:t[1]||(t[1]=_=>d(o.adGroup.id,o.adGroup.companyName))},[e("div",Me,[o.adGroup.rating?(l(),a("div",ze,[e("p",Be,[e("strong",null,w(o.adGroup.rating),1),S("/5 rating")])])):(l(),a("div",Ne,Je)),e("span",De,[e("div",Re,[Ee,(l(!0),a(k,null,j(o.adGroup.shipping.slice(0,2),_=>(l(),a("li",We,[e("p",qe,w(_.type),1),e("p",He,"Up to "+w(_.distance)+"KMs",1),e("p",Ke,"Max: "+w(_.weight)+"KGs",1)]))),256))]),e("div",Qe,[Xe,(l(!0),a(k,null,j(o.adGroup.plants.slice(0,5),_=>(l(),a("li",Ye,[e("p",Ze,w(_.variety),1),e("p",es,w(_.amount),1)]))),256))])])])]),!n.value&&f.value.length>0?(l(),a("div",ss,[(l(!0),a(k,null,j(f.value,_=>(l(),F(Ve,{ad:_,key:_.adId},null,8,["ad"]))),128))])):$("",!0),o.adGroup&&o.adGroup.storeImagesResized&&o.adGroup.storeImagesResized.length>0?(l(),a("div",ts,[e("div",ls,[u(ne,{images:o.adGroup.storeImagesResized,classes:"sm:h-56 sm:w-56"},null,8,["images"])])])):$("",!0)])])):$("",!0)}}),ns={key:0},is={key:0,class:"grid grid grid-cols-1 gap-4"},as={key:1,class:"w-full"},rs=e("div",{class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-3 lg:col-span-4"},[e("p",{class:"text-xl font-bold"},"No Ads Found")],-1),ds=[rs],cs={key:1,class:"w-full"},us={class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-3 lg:col-span-4"},fs=V({__name:"GroupedAdsComponent",setup(o){const r=g(!1),c=g([]),s=async()=>{r.value=!0,c.value=await H("ads",["updatedAt","desc"],6),r.value=!1},d=async()=>{const f=c.value.lastVisible,n=await H("ads",["updatedAt","desc"],6,f);c.value={lastVisible:n.lastVisible,docs:[...c.value.docs,...n.docs]}};return G(async()=>{await s()}),(f,n)=>(l(),a(k,null,[r.value?$("",!0):(l(),a("div",ns,[c.value&&c.value.docs&&c.value.docs.length>0?(l(),a("span",is,[(l(!0),a(k,null,j(c.value.docs,i=>(l(),F(os,{adGroup:i,key:i.id},null,8,["adGroup"]))),128))])):$("",!0),e("div",{class:"flex flex-row justify-end"},[e("p",{onClick:d,class:"font-sm underline font-bold"}," View more ")]),c.value.docs&&c.value.docs.length>0?(l(),a("div",as,ds)):$("",!0)])),r.value?$("",!0):(l(),a("div",cs,[e("div",us,[u(P,{isLoading:r.value},null,8,["isLoading"])])]))],64))}}),ps={class:"relative sm:hidden"},ms={class:"pt-2"},vs=e("h1",{class:"text-2xl font-bold mb-2 capitalize"},"Filters",-1),xs={class:"divide-y"},_s={class:"py-4"},hs=e("p",{class:"text-sm mb-2"},"Quantity",-1),gs={class:"flex flex-row gap-2 items-center"},ys=e("p",null,"-",-1),bs={class:"py-4"},ws=e("p",{class:"text-sm mb-2"},"Price Per Ton",-1),$s={class:"flex flex-row gap-2 items-center"},ks=e("p",null,"-",-1),Cs=e("span",{class:"py-4"},[e("div",{class:"flex flex-row gap-2 items-center"},[e("input",{type:"checkbox",id:"verifiedseller"}),e("label",{class:"text-sm",for:"verifiedseller"},"Verified Seller")]),e("div",{class:"flex flex-row gap-2 items-center"},[e("input",{type:"checkbox",id:"certifiedOrganic"}),e("label",{class:"text-sm",for:"verifiedseller"},"Certified Organic")]),e("div",{class:"flex flex-row gap-2 items-center"},[e("input",{type:"checkbox",id:"offersshipping"}),e("label",{class:"text-sm",for:"offersshipping"},"Offers shipping")])],-1),Vs=["onClick"],Ts=V({__name:"SellerCategoryFilterDropdownMenu",props:{filters:Object,selectableVariety:Array},emits:["updateFilters"],setup(o,{emit:r}){const c=o,s=g({});L(()=>c.filters,n=>{s.value=JSON.parse(JSON.stringify(n))},{deep:!0,immediate:!0});const d=r,f=()=>{d("updateFilters",s.value)};return(n,i)=>(l(),a("div",ps,[u(x(D),{as:"div",class:"relative inline-block text-left"},{default:y(()=>[e("div",null,[u(x(N),{class:"inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-bg/30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75"},{default:y(()=>[e("div",ms,[u(x(R),{class:"h-10 w-10"})])]),_:1})]),u(B,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:y(()=>[u(x(I),{class:"absolute p-2 left-0 mt-2 z-10 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:y(()=>[vs,e("span",xs,[e("div",_s,[hs,e("div",gs,[h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[0]||(i[0]=t=>s.value.tons.min=t)},null,512),[[b,s.value.tons.min]]),ys,h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[1]||(i[1]=t=>s.value.tons.max=t)},null,512),[[b,s.value.tons.max]])])]),e("div",bs,[ws,e("div",$s,[h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[2]||(i[2]=t=>s.value.pricePerTon.min=t)},null,512),[[b,s.value.pricePerTon.min]]),ks,h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[3]||(i[3]=t=>s.value.pricePerTon.max=t)},null,512),[[b,s.value.pricePerTon.max]])])]),Cs]),u(x(J),{class:"p-2"},{default:y(({close:t})=>[e("button",{type:"button",class:"w-full flex justify-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",onClick:()=>{f(),t()}}," Apply Filters ",8,Vs)]),_:1})]),_:1})]),_:1})]),_:1})]))}}),js={class:"grid grid-cols-6 h-64 w-full mt-4 shadow border rounded-md overflow-hidden"},Ps=["onClick"],Ss={class:"absolute inset-0 hidden sm:flex items-center justify-center bg-slate-300/20 opacity-0 hover:opacity-100 transform duration-200 ease-in-out"},Os={class:"text-sm font-bold capitalize text-white"},Fs=["src"],Gs={class:"flex flex-row gap-1 sm:gap-2 h-16 sm:p-4 sm:justify-end items-center"},Us={class:"flex flex-row gap-2 relative w-full"},As={class:"w-1/6 py-4 px-2 sticky top-24 h-64 hidden sm:block"},Ls=e("h1",{class:"text-2xl font-bold mb-2 capitalize"},"Filters",-1),Ms={class:"divide-y"},zs={class:"py-4"},Bs=e("p",{class:"text-sm mb-2"},"Quantity",-1),Ns={class:"flex flex-row gap-2 items-center"},Is=e("p",null,"-",-1),Js={class:"py-4"},Ds=e("p",{class:"text-sm mb-2"},"Price Per Ton",-1),Rs={class:"flex flex-row gap-2 items-center"},Es=e("p",null,"-",-1),Ws=le('<span class="py-4"><div class="flex flex-row gap-2 items-center"><input type="checkbox" id="verifiedseller"><label class="text-sm" for="verifiedseller">Verified Seller</label></div><div class="flex flex-row gap-2 items-center"><input type="checkbox" id="certifiedOrganic"><label class="text-sm" for="verifiedseller">Certified Organic</label></div><div class="flex flex-row gap-2 items-center"><input type="checkbox" id="offersshipping"><label class="text-sm" for="offersshipping">Offers shipping</label></div></span>',1),qs={key:0,class:"grid grid-cols-2 md:grid-cols-3 w-full gap-2",id:"sellerAds"},Hs={key:1,class:"w-full"},Ks={class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-3 lg:col-span-4"},Qs={key:2,class:"w-full"},Xs=e("div",{class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-3 lg:col-span-4"},[e("p",{class:"text-xl font-bold"},"No Ads Found")],-1),Ys=[Xs],Zs={key:1,class:"h-64 w-full flex items-center justify-center"},et=V({__name:"SellerCategoryComponent",setup(o){const r=g([]),c=g(!1),s=g("");G(async()=>{c.value=!0;try{r.value=await Y().getProduce();const p=Z();for(let m of r.value){const v=ee(p,m.categoryImage);m.imageUrl=await se(v)}s.value=r.value[0].id,await _(s.value)}catch(p){console.error("Error loading produce:",p)}c.value=!1});const d=g(!1),f=g([]),n=g({pricePerTon:{min:0,max:1e3},tons:{min:0,max:1e3},verifiedSeller:!1,certifiedOrganic:!1,offersShipping:!1}),i=p=>{n.value={...p}},t=O(()=>!f.value.docs||f.value.docs.length===0?[]:f.value.docs.filter(m=>{const v=m.pricePerTon,A=m.tons;return v>=n.value.pricePerTon.min&&v<=n.value.pricePerTon.max&&A>=n.value.tons.min&&A<=n.value.tons.max})),_=async p=>{d.value=!0,f.value=await te("ads",[["type","==",p],["live","==",!0],["adType","==","seller"]],["postedOn","desc"],25),console.log("ads:",f.value),d.value=!1};L(s,async p=>{p&&await _(p)});const C=g(""),T=O(()=>{if(s.value==="")return[];const p=r.value.find(m=>m.id===s.value);return p?p.sub:[]}),U=()=>{const p=document.getElementById("sellerAds");p&&p.scrollIntoView({behavior:"smooth"})};return(p,m)=>x(c)?(l(),a("div",Zs,[u(P,{isLoading:x(c)},null,8,["isLoading"])])):(l(),a(k,{key:0},[e("div",js,[(l(!0),a(k,null,j(x(r),v=>(l(),a("span",{class:"relative inline-block",onClick:()=>{s.value=v.id,U()}},[e("span",Ss,[e("span",Os,w(v.id),1)]),e("img",{src:v.imageUrl,class:"object-cover h-full w-full"},null,8,Fs)],8,Ps))),256))]),e("div",Gs,[u(Ts,{filters:n.value,selectableVariety:T.value,onUpdateFilters:i},null,8,["filters","selectableVariety"]),u(z,{items:x(r),modelValue:x(s),"onUpdate:modelValue":m[0]||(m[0]=v=>K(s)?s.value=v:null),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),u(z,{items:T.value,modelValue:x(C),"onUpdate:modelValue":m[1]||(m[1]=v=>K(C)?C.value=v:null),placeholder:"Select a Variety",disabled:T.value.length===0},null,8,["items","modelValue","disabled"])]),e("span",Us,[e("div",As,[Ls,e("span",Ms,[e("div",zs,[Bs,e("div",Ns,[h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":m[2]||(m[2]=v=>n.value.tons.min=v)},null,512),[[b,n.value.tons.min]]),Is,h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":m[3]||(m[3]=v=>n.value.tons.max=v)},null,512),[[b,n.value.tons.max]])])]),e("div",Js,[Ds,e("div",Rs,[h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":m[4]||(m[4]=v=>n.value.pricePerTon.min=v)},null,512),[[b,n.value.pricePerTon.min]]),Es,h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":m[5]||(m[5]=v=>n.value.pricePerTon.max=v)},null,512),[[b,n.value.pricePerTon.max]])])]),Ws])]),!x(d)&&t.value.length>0?(l(),a("div",qs,[(l(!0),a(k,null,j(t.value,(v,A)=>(l(),F(fe,{ad:v,key:A,showButtons:!1},null,8,["ad"]))),128))])):$("",!0),x(s)&&x(d)?(l(),a("div",Hs,[e("div",Ks,[u(P,{isLoading:x(d)},null,8,["isLoading"])])])):$("",!0),x(s)&&!x(d)&&t.value.length==0?(l(),a("div",Qs,Ys)):$("",!0)])],64))}}),st={class:"table-fixed w-full border-collapse"},tt={class:"truncate"},lt={class:"flex flex-col sm:table-cell"},ot={class:"flex flex-row items-center gap-2"},nt={class:"text-xs sm:text-sm"},it={class:"sm:hidden text-xs sm:text-sm truncate"},at={class:"hidden sm:table-cell"},rt={class:"text-sm truncate"},dt={class:"hidden sm:table-cell"},ct={class:"flex flex-row items-center gap-2"},ut={class:"hidden sm:table-cell"},ft={class:"italic text-sm"},pt={class:"sm:table-cell"},mt={class:"italic bg-slate-200 p-1 rounded-md text-center"},vt=V({__name:"BuyerStoreAdCard",props:{ad:{type:Object,required:!0}},setup(o){const r=s=>{const d=new Date,f=s.toDate(),n=d.getTime()-f.getTime(),i=Math.floor(n/1e3),t=Math.floor(i/60),_=Math.floor(t/60),C=Math.floor(_/24);return C>1?`${C} days ago`:C==1?`${C} day ago`:_>0?`${_} hours ago`:t>0?`${t} minutes ago`:i>0?`${i} seconds ago`:"just now"},c=()=>{console.log("clicked")};return(s,d)=>{const f=X("currency");return l(),a("div",{class:"flex items-center shadow px-2 sm:p-2 h-16 cursor-pointer hover:bg-slate-300/20 transform transition-all",onClick:c},[e("table",st,[e("tbody",null,[e("tr",null,[e("td",null,[e("p",tt,w(o.ad.variety),1)]),e("td",null,[e("div",lt,[e("span",ot,[u(x(xe),{class:"h-4 w-4"}),e("p",nt,"~"+w(o.ad.tons)+" tons",1)]),e("p",it,[h(e("span",null,null,512),[[f,o.ad.minCostPerTon]]),S("-"),h(e("span",null,null,512),[[f,o.ad.maxCostPerTon]]),S("/ ton")])])]),e("td",at,[e("p",rt,[h(e("span",null,null,512),[[f,o.ad.minCostPerTon]]),S("-"),h(e("span",null,null,512),[[f,o.ad.maxCostPerTon]]),S("/ ton")])]),e("td",dt,[e("span",ct,[u(x(ae),{class:"h-4 w-4"}),e("p",null,w(o.ad.location),1)])]),e("td",ut,[e("p",ft,w(o.ad.certifiedOrganic?"Certified Organic":"Not Certified Organic"),1)]),e("td",pt,[e("p",mt,w(r(o.ad.postedOn)),1)])])])])])}}}),xt={class:"relative sm:hidden"},_t={class:"pt-2"},ht=e("h1",{class:"text-2xl font-bold mb-2 capitalize"},"Filters",-1),gt={class:"divide-y"},yt={class:"py-4"},bt=e("p",{class:"text-sm mb-2"},"Cost per Ton",-1),wt={class:"flex flex-row gap-2 items-center"},$t=e("p",null,"-",-1),kt={class:"py-4"},Ct={class:"flex flex-row gap-2 items-center"},Vt=e("label",{class:"text-sm",for:"verifiedseller"},"Verified Buyer",-1),Tt={class:"flex flex-row gap-2 items-center"},jt=e("label",{class:"text-sm",for:"certifiedOrganic truncate"},"Certified Organic",-1),Pt={class:"flex flex-row gap-2 items-center"},St=e("label",{class:"text-sm",for:"offersshipping"},"Offers shipping",-1),Ot=["onClick"],Ft=V({__name:"BuyerCategoryFilterDropdownMenu",props:{filters:Object,selectableVariety:Array},emits:["updateFilters"],setup(o,{emit:r}){const c=o,s=g({});L(()=>c.filters,n=>{s.value=JSON.parse(JSON.stringify(n))},{deep:!0,immediate:!0});const d=r,f=()=>{d("updateFilters",s.value)};return(n,i)=>(l(),a("div",xt,[u(x(D),{as:"div",class:"relative inline-block text-left"},{default:y(()=>[e("div",null,[u(x(N),{class:"inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-bg/30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75"},{default:y(()=>[e("div",_t,[u(x(R),{class:"h-10 w-10"})])]),_:1})]),u(B,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:y(()=>[u(x(I),{class:"absolute p-2 left-0 mt-2 z-10 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:y(()=>[ht,e("span",gt,[e("div",yt,[bt,e("div",wt,[h(e("input",{type:"number",class:"text-xs border rounded-md w-1/2 p-2","onUpdate:modelValue":i[0]||(i[0]=t=>s.value.minCostPerTon=t),min:"0"},null,512),[[b,s.value.minCostPerTon]]),$t,h(e("input",{type:"number",class:"text-xs border rounded-md w-1/2 p-2","onUpdate:modelValue":i[1]||(i[1]=t=>s.value.maxCostPerTon=t),min:"0"},null,512),[[b,s.value.maxCostPerTon]])])]),e("span",kt,[e("div",Ct,[h(e("input",{type:"checkbox",id:"verifiedseller","onUpdate:modelValue":i[2]||(i[2]=t=>s.value.verifiedSeller=t)},null,512),[[E,s.value.verifiedSeller]]),Vt]),e("div",Tt,[h(e("input",{type:"checkbox",id:"certifiedOrganic","onUpdate:modelValue":i[3]||(i[3]=t=>s.value.certifiedOrganic=t)},null,512),[[E,s.value.certifiedOrganic]]),jt]),e("div",Pt,[h(e("input",{type:"checkbox",id:"offersshipping","onUpdate:modelValue":i[4]||(i[4]=t=>s.value.offersShipping=t)},null,512),[[E,s.value.offersShipping]]),St])])]),u(x(J),{class:"p-2"},{default:y(({close:t})=>[e("button",{type:"button",class:"w-full flex justify-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",onClick:()=>{f(),t()}}," Apply Filters ",8,Ot)]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Gt={class:"grid grid-cols-6 h-64 w-full mt-4 shadow border rounded-md overflow-hidden"},Ut=["onClick"],At={class:"absolute inset-0 flex items-center justify-center bg-slate-300/20 opacity-0 hover:opacity-100 transform duration-200 ease-in-out"},Lt={class:"text-sm font-bold capitalize text-white"},Mt=["src"],zt={class:"flex flex-row gap-1 sm:gap-2 h-16 sm:p-4 sm:justify-end items-center"},Bt={class:"flex flex-row gap-2 relative w-full"},Nt={class:"w-1/6 py-4 px-2 sticky top-24 h-64 hidden sm:block"},It=e("h1",{class:"text-2xl font-bold mb-2 capitalize"},"Filters",-1),Jt={class:"divide-y"},Dt={class:"py-4"},Rt=e("p",{class:"text-sm mb-2"},"Cost per Ton",-1),Et={class:"flex flex-row gap-2 items-center"},Wt=e("p",null,"-",-1),qt=le('<span class="py-4"><div class="flex flex-row gap-2 items-center"><input type="checkbox" id="verifiedseller"><label class="text-sm" for="verifiedseller">Verified Buyer</label></div><div class="flex flex-row gap-2 items-center"><input type="checkbox" id="certifiedOrganic"><label class="text-sm" for="certifiedOrganic truncate">Certified Organic</label></div><div class="flex flex-row gap-2 items-center"><input type="checkbox" id="offersshipping"><label class="text-sm" for="offersshipping">Offers shipping</label></div></span>',1),Ht={key:0,class:"flex flex-col gap-2 w-fill sm:w-5/6 min-h-[500px]",id:"buyerAds"},Kt={key:1,class:"w-full"},Qt={class:"h-96 w-full flex items-center justify-center w-full"},Xt={key:2,class:"w-full"},Yt=e("div",{class:"h-96 w-full flex items-center justify-center w-full"},[e("p",{class:"text-xl font-bold"},"No Ads Found")],-1),Zt=[Yt],el={key:1,class:"h-64 w-full flex items-center justify-center"},sl=V({__name:"BuyerCategoryComponent",setup(o){const r=g([]),c=g(!1),s=g("");G(async()=>{c.value=!0;try{r.value=await Y().getProduce();const p=Z();for(let m of r.value){const v=ee(p,m.categoryImage);m.imageUrl=await se(v)}s.value=r.value[0].id,await _(s.value)}catch(p){console.error("Error loading produce:",p)}c.value=!1});const d=g(!1),f=g([]),n=W({minCostPerTon:0,maxCostPerTon:1e3,verifiedBuyer:!1,certifiedOrganic:!1,offersShipping:!1}),i=p=>{n.value={...p}},t=O(()=>!f.value.docs||f.value.docs.length===0?[]:f.value.docs.filter(p=>{let m=!0;return(p.minCostPerTon<n.minCostPerTon||p.maxCostPerTon>n.maxCostPerTon)&&(m=!1),n.verifiedBuyer&&!p.verifiedBuyer&&(m=!1),n.certifiedOrganic&&!p.certifiedOrganic&&(m=!1),n.offersShipping&&!p.offersShipping&&(m=!1),m})),_=async p=>{d.value=!0,f.value=await te("ads",[["type","==",p],["live","==",!0],["adType","==","buyer"]],["postedOn","desc"],25),console.log("ads:",f.value),d.value=!1};L(s,async p=>{p&&await _(p)});const C=g(""),T=O(()=>{if(s.value==="")return[];const p=r.value.find(m=>m.id===s.value);return p?p.sub:[]}),U=()=>{const p=document.getElementById("buyerAds");p&&p.scrollIntoView({behavior:"smooth"})};return(p,m)=>c.value?(l(),a("div",el,[u(P,{isLoading:c.value},null,8,["isLoading"])])):(l(),a(k,{key:0},[e("div",Gt,[(l(!0),a(k,null,j(r.value,v=>(l(),a("span",{class:"relative inline-block",onClick:()=>{s.value=v.id,U()}},[e("span",At,[e("span",Lt,w(v.id),1)]),e("img",{src:v.imageUrl,class:"object-cover h-full w-full"},null,8,Mt)],8,Ut))),256))]),e("div",zt,[u(Ft,{filters:n,selectableVariety:T.value,onUpdateFilters:i},null,8,["filters","selectableVariety"]),u(z,{items:r.value,modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=v=>s.value=v),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),u(z,{items:T.value,modelValue:C.value,"onUpdate:modelValue":m[1]||(m[1]=v=>C.value=v),placeholder:"Select a Variety",disabled:T.value.length===0},null,8,["items","modelValue","disabled"])]),e("span",Bt,[e("div",Nt,[It,e("span",Jt,[e("div",Dt,[Rt,e("div",Et,[h(e("input",{type:"number",class:"text-xs border rounded-md w-1/2 p-2","onUpdate:modelValue":m[2]||(m[2]=v=>n.minCostPerTon=v),min:"0"},null,512),[[b,n.minCostPerTon]]),Wt,h(e("input",{type:"number",class:"text-xs border rounded-md w-1/2 p-2","onUpdate:modelValue":m[3]||(m[3]=v=>n.maxCostPerTon=v),min:"0"},null,512),[[b,n.maxCostPerTon]])])]),qt])]),!d.value&&t.value.length>0?(l(),a("div",Ht,[(l(!0),a(k,null,j(t.value,(v,A)=>(l(),F(vt,{ad:v,key:A,showButtons:!1},null,8,["ad"]))),128))])):$("",!0),s.value&&d.value?(l(),a("div",Kt,[e("div",Qt,[u(P,{isLoading:d.value},null,8,["isLoading"])])])):$("",!0),s.value&&!d.value&&t.value.length==0?(l(),a("div",Xt,Zt)):$("",!0)])],64))}}),tl={class:"relative sm:hidden"},ll={class:"pt-2"},ol=e("h1",{class:"text-2xl font-bold mb-2 capitalize"},"Filters",-1),nl={class:"divide-y"},il={class:"py-4"},al=e("p",{class:"text-sm mb-2"},"Salary",-1),rl={class:"flex flex-row gap-2 items-center"},dl=e("p",null,"-",-1),cl=["onClick"],ul=V({__name:"JobCategoryFilterDropdownMenu",props:{filters:Object},emits:["updateFilters"],setup(o,{emit:r}){const c=o,s=g({});L(()=>c.filters,n=>{s.value=JSON.parse(JSON.stringify(n))},{deep:!0,immediate:!0});const d=r,f=()=>{d("updateFilters",s.value)};return(n,i)=>(l(),a("div",tl,[u(x(D),{as:"div",class:"relative inline-block text-left"},{default:y(()=>[e("div",null,[u(x(N),{class:"inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-bg/30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75"},{default:y(()=>[e("div",ll,[u(x(R),{class:"h-10 w-10"})])]),_:1})]),u(B,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:y(()=>[u(x(I),{class:"absolute p-2 left-0 mt-2 z-10 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:y(()=>[ol,e("span",nl,[e("div",il,[al,e("div",rl,[h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[0]||(i[0]=t=>o.filters.min=t)},null,512),[[b,o.filters.min]]),dl,h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[1]||(i[1]=t=>o.filters.max=t)},null,512),[[b,o.filters.max]])])])]),u(x(J),{class:"p-2"},{default:y(({close:t})=>[e("button",{type:"button",class:"w-full flex justify-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",onClick:()=>{f(),t()}}," Apply Filters ",8,cl)]),_:1})]),_:1})]),_:1})]),_:1})]))}}),fl={class:"flex flex-row gap-1 sm:gap-2 h-16 sm:p-4 sm:justify-end items-center sm:hidden"},pl={class:"flex flex-row gap-2 relative w-full"},ml={class:"w-1/6 py-4 px-2 sticky top-24 h-64 hidden sm:block"},vl=e("h1",{class:"text-2xl font-bold mb-2 capitalize"},"Filters",-1),xl={class:"divide-y"},_l={class:"py-4"},hl=e("p",{class:"text-sm mb-2"},"Salary",-1),gl={class:"flex flex-row gap-2 items-center"},yl=e("p",null,"-",-1),bl={class:"grid grid-cols-2 md:grid-cols-3 w-full gap-2 sm:p-2"},wl={key:1,class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-2 lg:col-span-3"},$l={key:2,class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-2 lg:col-span-3"},kl=e("p",{class:"text-xl font-bold"},"No Jobs Found",-1),Cl=[kl],Vl=V({__name:"JobCategoryComponent",setup(o){const r=g([]),c=g(!1),s=W({min:0,max:1e5}),d=O(()=>r.value.filter(n=>n.salaryMin>=s.min&&n.salaryMax<=s.max)),f=n=>{s.value={...n}};return G(async()=>{c.value=!0;const n=await oe("jobs","live","==",!0,["updatedAt","desc"],25);r.value=n.docs,c.value=!1}),(n,i)=>(l(),a(k,null,[e("div",fl,[u(ul,{filters:s,onUpdateFilters:f},null,8,["filters"])]),e("span",pl,[e("div",ml,[vl,e("span",xl,[e("div",_l,[hl,e("div",gl,[h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[0]||(i[0]=t=>s.min=t)},null,512),[[b,s.min]]),yl,h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[1]||(i[1]=t=>s.max=t)},null,512),[[b,s.max]])])])])]),e("div",bl,[d.value.length>0&&!c.value?(l(!0),a(k,{key:0},j(d.value,(t,_)=>(l(),F(pe,{job:t,showButtons:!1,key:_},null,8,["job"]))),128)):c.value?(l(),a("div",wl,[u(P,{isLoading:c.value},null,8,["isLoading"])])):(l(),a("div",$l,Cl))])])],64))}}),Tl={class:"relative sm:hidden"},jl={class:"pt-2"},Pl=e("h1",{class:"text-2xl font-bold mb-2 capitalize"},"Filters",-1),Sl={class:"divide-y"},Ol={class:"py-4"},Fl=e("p",{class:"text-sm mb-2"},"Salary",-1),Gl={class:"flex flex-row gap-2 items-center"},Ul=e("p",null,"-",-1),Al=["onClick"],Ll=V({__name:"GigCategoryFilterDropdownMenu",props:{filters:Object},emits:["updateFilters"],setup(o,{emit:r}){const c=o,s=g({});L(()=>c.filters,n=>{s.value=JSON.parse(JSON.stringify(n))},{deep:!0,immediate:!0});const d=r,f=()=>{d("updateFilters",s.value)};return(n,i)=>(l(),a("div",Tl,[u(x(D),{as:"div",class:"relative inline-block text-left"},{default:y(()=>[e("div",null,[u(x(N),{class:"inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-bg/30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75"},{default:y(()=>[e("div",jl,[u(x(R),{class:"h-10 w-10"})])]),_:1})]),u(B,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:y(()=>[u(x(I),{class:"absolute p-2 left-0 mt-2 z-10 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:y(()=>[Pl,e("span",Sl,[e("div",Ol,[Fl,e("div",Gl,[h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[0]||(i[0]=t=>o.filters.min=t)},null,512),[[b,o.filters.min]]),Ul,h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[1]||(i[1]=t=>o.filters.max=t)},null,512),[[b,o.filters.max]])])])]),u(x(J),{class:"p-2"},{default:y(({close:t})=>[e("button",{type:"button",class:"w-full flex justify-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",onClick:()=>{f(),t()}}," Apply Filters ",8,Al)]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Ml={class:"flex flex-row gap-1 sm:gap-2 h-16 sm:p-4 sm:justify-end items-center sm:hidden"},zl={class:"flex flex-row gap-2 relative w-full"},Bl={class:"w-1/6 py-4 px-2 sticky top-24 h-64 hidden sm:block"},Nl=e("h1",{class:"text-2xl font-bold mb-2 capitalize"},"Filters",-1),Il={class:"divide-y"},Jl={class:"py-4"},Dl=e("p",{class:"text-sm mb-2"},"Salary",-1),Rl={class:"flex flex-row gap-2 items-center"},El=e("p",null,"-",-1),Wl={class:"grid grid-cols-2 md:grid-cols-3 w-full gap-2 sm:p-2"},ql={key:1,class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-2 lg:col-span-3"},Hl={key:2,class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-2 lg:col-span-3"},Kl=e("p",{class:"text-xl font-bold"},"No Gigs Found",-1),Ql=[Kl],Xl=V({__name:"GigCategoryComponent",setup(o){const r=g([]),c=g(!1),s=W({min:0,max:1e4}),d=O(()=>r.value.filter(n=>{const i=n.milestones.reduce((t,_)=>t+_.price,0);return i>=s.min&&i<=s.max})),f=n=>{s.value={...n}};return G(async()=>{c.value=!0;const n=await oe("gigs","live","==",!0,["updatedAt","desc"],25);r.value=n.docs,c.value=!1}),(n,i)=>(l(),a(k,null,[e("div",Ml,[u(Ll,{filters:s,onUpdateFilters:f},null,8,["filters"])]),e("span",zl,[e("div",Bl,[Nl,e("span",Il,[e("div",Jl,[Dl,e("div",Rl,[h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[0]||(i[0]=t=>s.min=t)},null,512),[[b,s.min]]),El,h(e("input",{type:"number",class:"text-xs border rounded-md p-2 w-1/2","onUpdate:modelValue":i[1]||(i[1]=t=>s.max=t)},null,512),[[b,s.max]])])])])]),e("div",Wl,[d.value.length>0&&!c.value?(l(!0),a(k,{key:0},j(d.value,(t,_)=>(l(),F(me,{gig:t,showButtons:!1,key:_},null,8,["gig"]))),128)):c.value?(l(),a("div",ql,[u(P,{isLoading:c.value},null,8,["isLoading"])])):(l(),a("div",Hl,Ql))])])],64))}}),q=o=>(re("data-v-32dad11e"),o=o(),de(),o),Yl={key:0},Zl={class:"h-96 w-full flex items-center justify-center col-span-2 md:col-span-3 lg:col-span-4"},eo={key:1,class:"relative flex items-center justify-center h-48 md:h-64 shadow rounded-md p-4"},so=q(()=>e("div",{id:"banner",class:"absolute top-0 left-0 h-48 md:h-64 w-full bg-cover bg-center rounded-md -z-1 opacity-30"},null,-1)),to=q(()=>e("div",{class:"absolute top-0 left-0 h-48 md:h-64 w-full bg-slate-800/80 rounded-md z-1"},null,-1)),lo={class:"z-[7] flex items-center flex-col gap-4"},oo={class:"flex flex-row gap-1 sm:gap-2"},no={class:"relative w-64"},io=q(()=>e("input",{type:"text",class:"w-full h-10 rounded-2xl bg-white text-white px-2",placeholder:"Search..."},null,-1)),ao={key:2,class:"p-2"},ro={key:3},co={key:4},uo={key:5},fo={key:6},po=V({__name:"FeedView",setup(o){const r=g(0),c=g(!0);return G(async()=>{await new Promise((s,d)=>{const f=new Image;f.onload=()=>s(),c.value=!1,f.onerror=()=>d(),c.value=!1,f.src="@/assets/VineyardBanner1.png"})}),(s,d)=>(l(),a(k,null,[c.value?(l(),a("div",Yl,[e("div",Zl,[u(P,{isLoading:c.value},null,8,["isLoading"])])])):(l(),a("div",eo,[so,to,e("div",lo,[e("span",oo,[e("h1",{class:M(["text-lg sm:text-2xl md:text-3xl font-bold hover:underline",r.value==0?"text-cyan-500 underline":""]),onClick:d[0]||(d[0]=()=>r.value=0)},"Producers",2),e("h1",{class:M(["text-lg sm:text-2xl md:text-3xl font-bold hover:underline",r.value==1?"text-cyan-500 underline":""]),onClick:d[1]||(d[1]=()=>r.value=1)},"Products",2),e("h1",{class:M(["text-lg sm:text-2xl md:text-3xl font-bold hover:underline",r.value==2?"text-cyan-500 underline":""]),onClick:d[2]||(d[2]=()=>r.value=2)},"Buyers",2),e("h1",{class:M(["text-lg sm:text-2xl md:text-3xl font-bold hover:underline",r.value==3?"text-cyan-500 underline":""]),onClick:d[3]||(d[3]=()=>r.value=3)},"Jobs",2),e("h1",{class:M(["text-lg sm:text-2xl md:text-3xl font-bold hover:underline",r.value==4?"text-cyan-500 underline":""]),onClick:d[4]||(d[4]=()=>r.value=4)},"Gigs",2)]),e("div",no,[io,u(x(ve),{class:"w-6 h-6 absolute top-2 right-2"})])])])),r.value==0?(l(),a("div",ao,[u(fs)])):$("",!0),r.value==1?(l(),a("div",ro,[u(et)])):$("",!0),r.value==2?(l(),a("div",co,[u(sl)])):$("",!0),r.value==3?(l(),a("div",uo,[u(Vl)])):$("",!0),r.value==4?(l(),a("div",fo,[u(Xl)])):$("",!0)],64))}});const yo=ce(po,[["__scopeId","data-v-32dad11e"]]);export{yo as default};
